---
name: grootfs-debug

templates:
  debug_ctl.erb: bin/debug_ctl
  run.erb: bin/run
  no-action.erb: bin/no-action

packages:
  - trace-cmd

properties:
  grootfs-debug.disabled:
    description: "deploy grootfs-debug in non-running state"
    default: false
  grootfs-debug.trace_buffer_size:
    description: "kernel buffersize (in kilobytes per CPU)"
    default: 20080
  grootfs-debug.event_glob:
    description: "event to trace"
    default: xfs\*
  grootfs-debug.interval:
    description: "time in seconds beforze (in kilobytes per CPU)s a process in D state is considered stale"
    default: 150
  grootfs-debug.max_log_files:
    description: "number of trace logs to keep. when number is met trace reporting will stop"
    default: 10
